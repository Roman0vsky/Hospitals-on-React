{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programs\\\\VS Code projects\\\\\\u0412\\u0435\\u0431-\\u043F\\u0440\\u043E\\u0433\\u0430\\\\hospitals-on-react\\\\client\\\\src\\\\pages\\\\Reviews\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Review from \"./Review/Review\";\nimport { Container, Form, InfoContainer, TextArea, TextAreaBox, Wrap } from \"./styled\";\nimport { useSelector } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { Button, ErrorMessage } from \"src/commonStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewsList = [{\n  id: 1,\n  text: \"The staff was great. The receptionists were very helpful and answered all our questions. The room was clean and bright, and the room service was always on time. Will be coming back! Thank you so much.\",\n  date: \"12/12/2023\",\n  user: {\n    id: -1,\n    name: \"Alisa Slepakova\",\n    imgUrl: \"https://4tololo.ru/sites/default/files/images/20180511162104.jpg\"\n  }\n}, {\n  id: 2,\n  text: \"My husband and I went for dinner in restaurant X and really enjoyed the atmosphere. The food was fresh and delicious, and the best part was that the chef sent us a dessert they had created that day. We were delighted.\",\n  date: \"01/01/2001\",\n  user: {\n    id: -1,\n    name: \"Clara Babery\",\n    imgUrl: \"https://vjoy.cc/wp-content/uploads/2020/10/stat2-261216-28.jpg\"\n  }\n}, {\n  id: 3,\n  text: \"The bout must last 13 seconds: 2 seconds to approach, 1 second to strike, 10 seconds to count the referee.\",\n  date: \"09/09/1995\",\n  user: {\n    id: -1,\n    name: \"Mike Tyson\",\n    imgUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Mike_Tyson_2019_by_Glenn_Francis.jpg/250px-Mike_Tyson_2019_by_Glenn_Francis.jpg\"\n  }\n}];\nexport default function Reviews() {\n  _s();\n  var _errors$review;\n  const user = useSelector(store => store.auth.user);\n  const [reviews, setReviews] = useState(ReviewsList);\n  const reviewsItems = reviews.map(review => /*#__PURE__*/_jsxDEV(Review, {\n    data: review\n  }, review.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this));\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm();\n  const onSubmit = data => {\n    setReviews(prevState => {\n      if (!user) return prevState;\n      const d = new Date();\n      const newState = [...prevState];\n      newState.push({\n        id: prevState[prevState.length - 1].id + 1,\n        text: `${data.review}`,\n        date: `d.getMonth()/d.getDay/`,\n        user: {\n          id: user.id,\n          name: user.firstName + \" \" + user.lastName,\n          imgUrl: \"https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dXNlcnxlbnwwfHwwfHx8MA%3D%3D&w=1000&q=80\"\n        }\n      });\n      reset({\n        review: \"\"\n      });\n      return newState;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    children: [/*#__PURE__*/_jsxDEV(InfoContainer, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(TextAreaBox, {\n          children: [/*#__PURE__*/_jsxDEV(TextArea, {\n            ...register(\"review\", {\n              required: {\n                value: true,\n                message: \"Enter review\"\n              }\n            }),\n            placeholder: \"Your review text\",\n            $height: \"450px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            $dark: true,\n            children: (_errors$review = errors.review) === null || _errors$review === void 0 ? void 0 : _errors$review.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [\" \", reviewsItems]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(Reviews, \"Al7aygcCgjy57x+XIs6H9vnFdIg=\", false, function () {\n  return [useSelector, useForm];\n});\n_c = Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["useState","Review","Container","Form","InfoContainer","TextArea","TextAreaBox","Wrap","useSelector","useForm","Button","ErrorMessage","jsxDEV","_jsxDEV","ReviewsList","id","text","date","user","name","imgUrl","Reviews","_s","_errors$review","store","auth","reviews","setReviews","reviewsItems","map","review","data","fileName","_jsxFileName","lineNumber","columnNumber","register","handleSubmit","formState","errors","reset","onSubmit","prevState","d","Date","newState","push","length","firstName","lastName","children","required","value","message","placeholder","$height","$dark","type","_c","$RefreshReg$"],"sources":["D:/Programs/VS Code projects/Веб-прога/hospitals-on-react/client/src/pages/Reviews/index.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { IReview } from \"src/utils/interfaces/review.interface\";\r\nimport Review from \"./Review/Review\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  InfoContainer,\r\n  TextArea,\r\n  TextAreaBox,\r\n  Wrap,\r\n} from \"./styled\";\r\nimport { IStore } from \"src/store/interfaces/store.interface\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { Button, ErrorMessage } from \"src/commonStyles\";\r\n\r\ninterface IFormInput {\r\n  review: string;\r\n}\r\n\r\nconst ReviewsList: IReview[] = [\r\n  {\r\n    id: 1,\r\n    text: \"The staff was great. The receptionists were very helpful and answered all our questions. The room was clean and bright, and the room service was always on time. Will be coming back! Thank you so much.\",\r\n    date: \"12/12/2023\",\r\n    user: {\r\n      id: -1,\r\n      name: \"Alisa Slepakova\",\r\n      imgUrl:\r\n        \"https://4tololo.ru/sites/default/files/images/20180511162104.jpg\",\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    text: \"My husband and I went for dinner in restaurant X and really enjoyed the atmosphere. The food was fresh and delicious, and the best part was that the chef sent us a dessert they had created that day. We were delighted.\",\r\n    date: \"01/01/2001\",\r\n    user: {\r\n      id: -1,\r\n      name: \"Clara Babery\",\r\n      imgUrl: \"https://vjoy.cc/wp-content/uploads/2020/10/stat2-261216-28.jpg\",\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    text: \"The bout must last 13 seconds: 2 seconds to approach, 1 second to strike, 10 seconds to count the referee.\",\r\n    date: \"09/09/1995\",\r\n    user: {\r\n      id: -1,\r\n      name: \"Mike Tyson\",\r\n      imgUrl:\r\n        \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Mike_Tyson_2019_by_Glenn_Francis.jpg/250px-Mike_Tyson_2019_by_Glenn_Francis.jpg\",\r\n    },\r\n  },\r\n];\r\n\r\nexport default function Reviews() {\r\n  const user = useSelector((store: IStore) => store.auth.user);\r\n  const [reviews, setReviews] = useState<IReview[]>(ReviewsList);\r\n\r\n  const reviewsItems = reviews.map((review) => (\r\n    <Review key={review.id} data={review} />\r\n  ));\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm<IFormInput>();\r\n\r\n  const onSubmit: SubmitHandler<IFormInput> = (data) => {\r\n    setReviews((prevState) => {\r\n      if (!user) return prevState;\r\n\r\n      const d = new Date();\r\n\r\n      const newState = [...prevState];\r\n      newState.push({\r\n        id: prevState[prevState.length - 1].id + 1,\r\n        text: `${data.review}`,\r\n        date: `d.getMonth()/d.getDay/`,\r\n        user: {\r\n          id: user.id,\r\n          name: user.firstName + \" \" + user.lastName,\r\n          imgUrl:\r\n            \"https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dXNlcnxlbnwwfHwwfHx8MA%3D%3D&w=1000&q=80\",\r\n        },\r\n      });\r\n      reset({ review: \"\" });\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrap>\r\n      <InfoContainer>\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n          <TextAreaBox>\r\n            <TextArea\r\n              {...register(\"review\", {\r\n                required: { value: true, message: \"Enter review\" },\r\n              })}\r\n              placeholder=\"Your review text\"\r\n              $height=\"450px\"\r\n            />\r\n            <ErrorMessage $dark>{errors.review?.message}</ErrorMessage>\r\n          </TextAreaBox>\r\n          <Button type=\"submit\">Send</Button>\r\n        </Form>\r\n      </InfoContainer>\r\n      <Container> {reviewsItems}</Container>\r\n    </Wrap>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}